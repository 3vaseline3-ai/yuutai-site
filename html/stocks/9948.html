<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>9948 アークス - 優待クロス管理</title>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;
            margin: 0;
            padding: 20px;
            background-color: #f5f5f5;
        }
        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: white;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        h1, h2, h3 {
            color: #333;
        }
        nav {
            margin-bottom: 20px;
            padding-bottom: 10px;
            border-bottom: 1px solid #ddd;
        }
        nav a {
            margin-right: 15px;
            color: #0066cc;
            text-decoration: none;
        }
        nav a:hover {
            text-decoration: underline;
        }
        table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 20px;
        }
        th, td {
            padding: 10px;
            text-align: left;
            border-bottom: 1px solid #ddd;
        }
        th {
            background-color: #f8f9fa;
            font-weight: 600;
        }
        tr:hover {
            background-color: #f5f5f5;
        }
        .positive {
            color: #28a745;
        }
        .negative {
            color: #dc3545;
        }
        .number {
            text-align: right;
            font-variant-numeric: tabular-nums;
        }
        .badge {
            display: inline-block;
            padding: 2px 6px;
            margin-left: 5px;
            font-size: 0.75em;
            background-color: #17a2b8;
            color: white;
            border-radius: 3px;
        }
        .table-wrapper {
            overflow-x: auto;
            -webkit-overflow-scrolling: touch;
        }
        /* スマホ対応 */
        @media (max-width: 768px) {
            body { padding: 10px; }
            .container { padding: 10px; }
            th, td { padding: 6px 4px; font-size: 0.85em; }
            nav { overflow-x: auto; white-space: nowrap; }
            nav a { margin-right: 10px; }
            .hide-mobile { display: none; }
        }
    </style>
    
</head>
<body>
    <div class="container">
        <nav>
            <a href="../index.html">トップ</a>
            
            <a href="../months/01.html">1月</a>
            
            <a href="../months/02.html">2月</a>
            
            <a href="../months/03.html">3月</a>
            
            <a href="../months/04.html">4月</a>
            
            <a href="../months/05.html">5月</a>
            
            <a href="../months/06.html">6月</a>
            
            <a href="../months/07.html">7月</a>
            
            <a href="../months/08.html">8月</a>
            
            <a href="../months/09.html">9月</a>
            
            <a href="../months/10.html">10月</a>
            
            <a href="../months/11.html">11月</a>
            
            <a href="../months/12.html">12月</a>
            
        </nav>
        
<h1>9948 アークス</h1>

<h2>一般信用在庫 <span id="zaiko-status" style="font-size: 0.6em; color: #888;">読込中...</span></h2>
<table id="zaiko-table">
    <thead>
        <tr>
            <th>日興</th>
            <th>カブコム</th>
            <th>楽天</th>
            <th>SBI</th>
            <th>GMO</th>
            <th>松井</th>
        </tr>
    </thead>
    <tbody>
        <tr>
            <td id="zaiko-nikko">-</td>
            <td id="zaiko-kabu">-</td>
            <td id="zaiko-rakuten">-</td>
            <td id="zaiko-sbi">-</td>
            <td id="zaiko-gmo">-</td>
            <td id="zaiko-matsui">-</td>
        </tr>
    </tbody>
</table>

<h2>基本情報</h2>
<table>
    <tr>
        <th>銘柄コード</th>
        <td>9948</td>
    </tr>
    <tr>
        <th>銘柄名</th>
        <td>アークス</td>
    </tr>
    <tr>
        <th>権利確定月</th>
        <td>2月</td>
    </tr>
    <tr>
        <th>必要株数</th>
        <td>100株</td>
    </tr>
    <tr>
        <th>現在株価</th>
        <td>円</td>
    </tr>
    <tr>
        <th>必要資金</th>
        <td>円</td>
    </tr>
</table>

<h2>優待内容</h2>
<table>
    <tr>
        <th>優待内容</th>
        <td></td>
    </tr>
    <tr>
        <th>優待価値</th>
        <td>2000円</td>
    </tr>
    <tr>
        <th>利回り</th>
        <td>-%</td>
    </tr>
</table>

<h2>逆日歩履歴</h2>
<table>
    <thead>
        <tr>
            <th>権利日</th>
            <th>逆日歩</th>
            <th>日数</th>
            <th>合計</th>
        </tr>
    </thead>
    <tbody>
        
        <tr>
            <td>2025-02-26</td>
            <td>円</td>
            <td>3日</td>
            <td>円</td>
        </tr>
        
        <tr>
            <td>2024-02-27</td>
            <td>円</td>
            <td>1日</td>
            <td>円</td>
        </tr>
        
        <tr>
            <td>2023-02-24</td>
            <td>円</td>
            <td>1日</td>
            <td>円</td>
        </tr>
        
        <tr>
            <td>2022-02-24</td>
            <td>円</td>
            <td>1日</td>
            <td>円</td>
        </tr>
        
        <tr>
            <td>2021-02-24</td>
            <td>円</td>
            <td>3日</td>
            <td>円</td>
        </tr>
        
        <tr>
            <td>2020-02-26</td>
            <td>円</td>
            <td>3日</td>
            <td>円</td>
        </tr>
        
        <tr>
            <td>2019-02-25</td>
            <td>円</td>
            <td>1日</td>
            <td>円</td>
        </tr>
        
        <tr>
            <td>2018-02-23</td>
            <td>円</td>
            <td>1日</td>
            <td>円</td>
        </tr>
        
        <tr>
            <td>2017-02-23</td>
            <td>円</td>
            <td>1日</td>
            <td>円</td>
        </tr>
        
        <tr>
            <td>2016-02-24</td>
            <td>円</td>
            <td>1日</td>
            <td>円</td>
        </tr>
        
        <tr>
            <td>2015-02-24</td>
            <td>円</td>
            <td>3日</td>
            <td>円</td>
        </tr>
        
        <tr>
            <td>2014-02-25</td>
            <td>円</td>
            <td>3日</td>
            <td>円</td>
        </tr>
        
        <tr>
            <td>2013-02-25</td>
            <td>円</td>
            <td>1日</td>
            <td>円</td>
        </tr>
        
        <tr>
            <td>2012-02-24</td>
            <td>円</td>
            <td>1日</td>
            <td>円</td>
        </tr>
        
        <tr>
            <td>2011-02-23</td>
            <td>円</td>
            <td>1日</td>
            <td>円</td>
        </tr>
        
    </tbody>
</table>

<h2>株価チャート</h2>
<div id="price-chart">
    <!-- 株価チャートはここに表示 -->
    <p>チャートデータがありません</p>
</div>

    </div>
    
<script>
// Vercel API エンドポイント
const ZAIKO_API_URL = 'https://yuutai-site.vercel.app/api/zaiko';
const STOCK_CODE = '9948';

async function fetchZaiko() {
    const statusEl = document.getElementById('zaiko-status');

    try {
        const response = await fetch(`${ZAIKO_API_URL}?code=${STOCK_CODE}`);
        const result = await response.json();

        if (result.error) {
            statusEl.textContent = 'エラー';
            statusEl.style.color = '#dc3545';
            return;
        }

        const data = result.data;

        // 在庫数を表示
        document.getElementById('zaiko-nikko').textContent = formatZaiko(data.nvol);
        document.getElementById('zaiko-kabu').textContent = formatZaiko(data.kvol);
        document.getElementById('zaiko-rakuten').textContent = formatZaiko(data.rvol);
        document.getElementById('zaiko-sbi').textContent = formatZaiko(data.svol);
        document.getElementById('zaiko-gmo').textContent = formatZaiko(data.gvol);
        document.getElementById('zaiko-matsui').textContent = formatZaiko(data.mvol);

        // ステータス更新
        const now = new Date();
        statusEl.textContent = `${now.getHours()}:${String(now.getMinutes()).padStart(2, '0')} 更新`;
        statusEl.style.color = '#28a745';

    } catch (err) {
        statusEl.textContent = '接続エラー';
        statusEl.style.color = '#dc3545';
        console.error('Zaiko fetch error:', err);
    }
}

function formatZaiko(vol) {
    if (vol === null || vol === undefined || vol === 0 || vol === '0') {
        return '-';
    }
    const num = parseInt(vol);
    if (isNaN(num) || num === 0) return '-';
    return num.toLocaleString() + '株';
}

// ページ読み込み時に実行
document.addEventListener('DOMContentLoaded', fetchZaiko);
</script>

</body>
</html>